suite-desktop build mac:
    stage: build artifacts
    script:
        - yarn cache clean
        - yarn workspace @trezor/suite-data copy-static-files
        - yarn workspace @trezor/suite-desktop build:mac
        - mv $PACKAGE_PATH_SUITE_DESKTOP/build-electron/TrezorSuite-*.zip .
        - rsync --delete -va TrezorSuite-*.zip "${DEPLOY_DIRECTORY}/"
    # artifacts:
    #     expire_in: 1 day
    #     paths:
    #         - TrezorSuite-*.zip

suite-desktop build linux:
    stage: build artifacts
    script:
        - yarn cache clean
        - yarn workspace @trezor/suite-data copy-static-files
        - yarn workspace @trezor/suite-desktop build:linux
        - mv $PACKAGE_PATH_SUITE_DESKTOP/build-electron/TrezorSuite-*.AppImage .
        - rsync --delete -va TrezorSuite-*.AppImage "${DEPLOY_DIRECTORY}/"
    # artifacts:
    #     expire_in: 1 day
    #     paths:
    #         - TrezorSuite-*.AppImage

suite-desktop build windows:
    stage: build artifacts
    image: electronuserland/builder:wine
    script:
        - yarn cache clean
        - yarn workspace @trezor/suite-data copy-static-files
        - yarn workspace @trezor/suite-desktop build:win
        - mv $PACKAGE_PATH_SUITE_DESKTOP/build-electron/TrezorSuite-*.exe .
        - rsync --delete -va TrezorSuite-*.exe "${DEPLOY_DIRECTORY}/"
    # artifacts:
    #     expire_in: 1 day
    #     paths:
    #         - TrezorSuite-*.exe